/*
ÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜÜ
±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±
±±ÉÍÍÍÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍËÍÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍËÍÍÍÍÍÍÑÍÍÍÍÍÍÍÍÍÍÍÍÍ»±±
±±ºPrograma  ³ MTA010E    ºAutor  ³ Christian Rocha    º      ³           º±±
±±ÌÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÊÍÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÊÍÍÍÍÍÍÏÍÍÍÍÍÍÍÍÍÍÍÍÍ¹±±
±±ºDesc.     ³ Ponto de entrada para executado no final da exclusão do    º±±
±±º          ³ produto. Deve ser utilizado para gravação de campos do 	  º±±
±±º          ³ usuário.						                              º±±
±±ÌÍÍÍÍÍÍÍÍÍÍØÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹±±
±±ºUso       ³ SIGACTB - Contabilidade Gerencial                          º±±
±±Ì          ³ Este ponto de entrada está sendo utilizado para excluir o  ¹±±
±±º          ³ item contábil quando o produto for excluído do cadastro de º±±
±±º          ³ produto.  		 						  				  º±±
±±ÌÍÍÍÍÍÍÍÍÍÍËÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍËÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¹±±
±±ºData      ºProgramador       ºAlteracoes                               º±±
±±º          º                  º                                         º±±
±±ÈÍÍÍÍÍÍÍÍÍÍÊÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÊÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ¼±±
±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±±
ßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßßß
*/



User Function MTA010E
	Local a_Area := GetArea()

    dbSelectArea("CTD")
    CTD->(dbSetOrder(1))
    If dbSeek(xFilial("CTD") + SB1->B1_ITEMCC) .And. !Empty(SB1->B1_ITEMCC)
		f_CTBA040(SB1->B1_ITEMCC, '2', '1')
	Endif

	RestArea(a_Area)
Return Nil



Static Function f_CTBA040(c_Item, c_Classe, c_Normal)
	Local a_ItemCtb     := {}		// Array com os dados a serem enviados pela MsExecAuto() para gravacao automatica

	Private lMsHelpAuto := .F.	// Determina se as mensagens de help devem ser direcionadas para o arq. de log
	Private lMsErroAuto := .F.	// Determina se houve alguma inconsistencia na execucao da rotina

	a_ItemCtb := {	{'CTD_ITEM'   , c_Item									, Nil},;	// Especifica qual o Código do item contabil
					{'CTD_CLASSE' , c_Classe								, Nil},;	// Especifica a classe do Centro de Custo, que  poderá ser: - Sintética: Centros de Custo totalizadores dos Centros de Custo Analíticos - Analítica: Centros de Custo que recebem os valores dos lançamentos contábeis
					{'CTD_NORMAL' , c_Normal								, Nil},;	// Indica a classificação do centro de custo. 1-Receita ; 2-Despesa
					{'CTD_DESC01' , "ITEM CONTABIL DO PRODUTO " + c_Item 	, Nil}}		// Indica a Nomenclatura do item contabil na Moeda 1

	MSExecAuto({|x, y| CTBA040(x, y)},a_ItemCtb, 5)

	If lMsErroAuto
		MostraErro()
	EndIf
Return